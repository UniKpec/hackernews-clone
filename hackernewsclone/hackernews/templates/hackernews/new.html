{% extends "base.html" %}
{% load static %}

{% block content %}
<main class="context">

    
    {% for story in submits %}
    <table class="table-of-context">
        <tbody class="t-body-of-context">
            <tr>
                <td class="number" style="color: #828282;">
                    {{ forloop.counter }}
                </td>
                <td>
                    <a href="#" style="color: #828282;">
                        <i class="fa-duotone fa-solid fa-caret-up"></i>
                    </a>
                </td>
                <td class="context-of-head">
                    {% if story.url %}
                        <a href="{{ story.url }}">{{ story.title }}</a>
                    {% else %}
                        {{ story.title }}
                    {% endif %}
                </td>
                <td class="context-of-head-link lnk" style="color: #828282;">
                    <a href="#">(user-submitted)</a>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table-of-context">
        <tbody class="context-of-attributes">
            <tr>
                <td style="padding-left: 25px;"></td>
                <td>point by</td>
                <td><a href="#" class="lnk">{{ story.author.username }}</a></td>
                <td><a href="#" class="lnk">{{ story.created_at|timesince }} ago</a></td>
                <td><a href="#" class="lnk">| hide</a></td>
                <td><a href="#" class="lnk">| 0 comments</a></td>
            </tr>
        </tbody>
    </table>
    {% endfor %}

    <!-- API'den gelen hikayeler -->
    {% for story in stories %}
    <table class="table-of-context">
        <tbody class="t-body-of-context">
            <tr>
                <td class="number" style="color: #828282;">
                    {{ forloop.counter }}
                </td>
                <td>
                    <a href="#" style="color: #828282;">
                        <i class="fa-duotone fa-solid fa-caret-up"></i>
                    </a>
                </td>
                <td class="context-of-head">
                    <a href="{{ story.url }}">{{ story.title }}</a>
                </td>
                <td class="context-of-head-link lnk" style="color: #828282;">
                    {% if story.domain %}
                        <a href="{% url 'hackernews:stories_by_domain' story.domain %}" class="lnk">({{ story.domain }})</a>
                    {% else %}
                        <a href="#">()</a>
                    {% endif %}
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table-of-context">
        <tbody class="context-of-attributes">
            <tr>
                <td style="padding-left: 25px;"></td>
                <td>{{ story.score }} point by</td>
                <td><a href="#" class="lnk">{{ story.by }}</a></td>
                <td><a href="#" class="lnk">{{ story.time }} ago</a></td>
                <td><a href="#" class="lnk">| hide</a></td>
                <td>
                    <a href="{% url 'hackernews:comments_by_story' story.hn_id %}" class="lnk">| {{ story.descendants }} comments</a>
                </td>
            </tr>
        </tbody>
    </table>
    {% endfor %}

    <table class="more">
        <tr>
            <td style="padding-left: 25px;"></td>
            <td>More</td>
        </tr>
    </table>
</main>
{% endblock %}
